
# Press Ctrl + a to active
unbind ^b
set-option -g prefix ^a
bind a send-prefix

#水平或垂直分割窗口

unbind '"'
bind - splitw -v # 分割成上下两个窗口
unbind %
bind | splitw -h # 分割成左右两个窗口
bind < resize-pane -L 1
bind > resize-pane -R 1

#选择分割的窗格

bind k selectp -U # 选择上窗格
bind j selectp -D # 选择下窗格
bind h selectp -L # 选择左窗格
bind l selectp -R # 选择右窗格

set-window-option -g mode-keys vi 

#重新调整窗格的大小

bind ^k resizep -U 10 # 跟选择窗格的设置相同，只是多加 Ctrl（Ctrl-k）
bind ^j resizep -D 10 # 同上
bind ^h resizep -L 10 # ...
bind ^l resizep -R 10 # ...

#交换两个窗格

bind ^u swapp -U # 与上窗格交换 Ctrl-u
bind ^d swapp -D # 与下窗格交换 Ctrl-d

# copy & paste
unbind [
bind Escape copy-mode
unbind p
bind p paste-buffer
bind-key -t vi-copy 'v' begin-selection
bind-key -t vi-copy 'y' copy-selection
bind-key -t vi-copy 'V' rectangle-toggle
#Copy tmux paste buffer to CLIPBOARD
unbind ^c
#bind ^c run "tmux show-buffer | xsel -i -b"
# Fix: catch "\345\220\236\345\231\254\346\230\237\347\251\272" 
bind ^c run "tmux save-buffer - | xsel -i -b"
#Copy CLIPBOARD to tmux paste buffer and paste tmux paste buffer
unbind ^v
bind ^v run "tmux set-buffer -- \"$(xsel -o -b)\"; tmux paste-buffer"



# set scrollback to 10000 lines
set-option -g history-limit 10000

# mouse option
set-option -g mouse-utf8 off
set-window-option -g mode-mouse on
set-option -g mouse-select-pane on

# status bar
set-window-option -g monitor-activity on
set-window-option -g automatic-rename off

# use 256 color
# pls add in ~/.bashrc
# export TERM=xterm-256color

# from powerline/binds/tmux/tmux.conf
set -g status on
set -g status-utf8 on
set -g status-interval 2
set -g status-fg colour231
set -g status-bg colour234
set -g status-left-length 20
set -g status-left '#[fg=colour16,bg=colour254,bold] #S #[fg=colour254,bg=colour234,nobold]#(powerline tmux left)'
set -g status-right '#(powerline tmux right)'
set -g status-right-length 150
set -g window-status-format "#[fg=colour244,bg=colour234]#I #[fg=colour240] #[fg=colour249]#W "
set -g window-status-current-format "#[fg=colour234,bg=colour31]#[fg=colour117,bg=colour31] #I  #[fg=colour231,bold]#W #[fg=colour31,bg=colour234,nobold]"
#
#set-option -g status-utf8 on
#set-option -g status-left  "#[fg=green]#T #S:#I.#P |#[default]"
#set-option -g status-left-length 60
#set-option -g status-right "#[fg=green]%c %Z"
#set-option -g status-right-length 30

#set-option -g status-bg black
#set-option -g status-fg yellow

# split 4 panel 
#new-session -d -s 4P
#split-window -h
#select-pane -t:0.0
#split-window -v
#select-pane -t:0.2
#split-window -v

#https://wiki.archlinux.org/index.php/Tmux
